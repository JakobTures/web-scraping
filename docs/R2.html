<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Packages, the tidyverse and R Markdown | Web Scraping using R</title>
  <meta name="description" content="2 Packages, the tidyverse and R Markdown | Web Scraping using R" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Packages, the tidyverse and R Markdown | Web Scraping using R" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="jakobtures.github.io/web-scraping/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Packages, the tidyverse and R Markdown | Web Scraping using R" />
  
  
  

<meta name="author" content="Jakob Tures" />


<meta name="date" content="2023-11-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="R1.html"/>
<link rel="next" href="html.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
Web Scraping using R

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-is-web-scraping"><i class="fa fa-check"></i>What is web scraping?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-contents"><i class="fa fa-check"></i>Course contents</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#technical-requirements"><i class="fa fa-check"></i>Technical requirements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#conventions"><i class="fa fa-check"></i>Conventions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#colophon"><i class="fa fa-check"></i>Colophon</a></li>
</ul></li>
<li class="part"><span><b>I R Basics, tidyverse &amp; R Markdown</b></span></li>
<li class="chapter" data-level="1" data-path="R1.html"><a href="R1.html"><i class="fa fa-check"></i><b>1</b> R &amp; R Studio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="R1.html"><a href="R1.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.2" data-path="R1.html"><a href="R1.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> RStudio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="R1.html"><a href="R1.html#overview"><i class="fa fa-check"></i><b>1.2.1</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="R1.html"><a href="R1.html#hello-world"><i class="fa fa-check"></i><b>1.3</b> Hello World!</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="R1.html"><a href="R1.html#calculating-with-r"><i class="fa fa-check"></i><b>1.3.1</b> Calculating with R</a></li>
<li class="chapter" data-level="1.3.2" data-path="R1.html"><a href="R1.html#comparison"><i class="fa fa-check"></i><b>1.3.2</b> Comparison operators</a></li>
<li class="chapter" data-level="1.3.3" data-path="R1.html"><a href="R1.html#logical-operators"><i class="fa fa-check"></i><b>1.3.3</b> Logical operators</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="R1.html"><a href="R1.html#objects"><i class="fa fa-check"></i><b>1.4</b> Objects</a></li>
<li class="chapter" data-level="1.5" data-path="R1.html"><a href="R1.html#vectors"><i class="fa fa-check"></i><b>1.5</b> Vectors</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="R1.html"><a href="R1.html#subsetting"><i class="fa fa-check"></i><b>1.5.1</b> Subsetting</a></li>
<li class="chapter" data-level="1.5.2" data-path="R1.html"><a href="R1.html#types-of-vectors"><i class="fa fa-check"></i><b>1.5.2</b> Types of vectors</a></li>
<li class="chapter" data-level="1.5.3" data-path="R1.html"><a href="R1.html#a-brief-look-at-lists"><i class="fa fa-check"></i><b>1.5.3</b> A brief look at lists</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="R1.html"><a href="R1.html#functions"><i class="fa fa-check"></i><b>1.6</b> Functions</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="R1.html"><a href="R1.html#help"><i class="fa fa-check"></i><b>1.6.1</b> Help</a></li>
<li class="chapter" data-level="1.6.2" data-path="R1.html"><a href="R1.html#examples-basic-statistical-functions"><i class="fa fa-check"></i><b>1.6.2</b> Examples: Basic statistical functions</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="R1.html"><a href="R1.html#rstudio-workflow"><i class="fa fa-check"></i><b>1.7</b> RStudio Workflow</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="R1.html"><a href="R1.html#r-scripts"><i class="fa fa-check"></i><b>1.7.1</b> R Scripts</a></li>
<li class="chapter" data-level="1.7.2" data-path="R1.html"><a href="R1.html#projects"><i class="fa fa-check"></i><b>1.7.2</b> Projects</a></li>
<li class="chapter" data-level="1.7.3" data-path="R1.html"><a href="R1.html#comments"><i class="fa fa-check"></i><b>1.7.3</b> Comments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="R2.html"><a href="R2.html"><i class="fa fa-check"></i><b>2</b> Packages, the tidyverse and R Markdown</a>
<ul>
<li class="chapter" data-level="2.1" data-path="R2.html"><a href="R2.html#r-packages"><i class="fa fa-check"></i><b>2.1</b> R packages</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="R2.html"><a href="R2.html#installing-and-loading-packages"><i class="fa fa-check"></i><b>2.1.1</b> Installing and loading packages</a></li>
<li class="chapter" data-level="2.1.2" data-path="R2.html"><a href="R2.html#namespaces"><i class="fa fa-check"></i><b>2.1.2</b> Namespaces</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="R2.html"><a href="R2.html#tidyverse"><i class="fa fa-check"></i><b>2.2</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="R2.html"><a href="R2.html#tibbles"><i class="fa fa-check"></i><b>2.2.1</b> Tibbles</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="R2.html"><a href="R2.html#additional-r-resources"><i class="fa fa-check"></i><b>2.3</b> Additional R resources</a></li>
<li class="chapter" data-level="2.4" data-path="R2.html"><a href="R2.html#intro-to-r-markdown"><i class="fa fa-check"></i><b>2.4</b> Intro to R Markdown</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="R2.html"><a href="R2.html#what-is-r-markdown"><i class="fa fa-check"></i><b>2.4.1</b> What is R Markdown?</a></li>
<li class="chapter" data-level="2.4.2" data-path="R2.html"><a href="R2.html#creating-a-r-markdown-file"><i class="fa fa-check"></i><b>2.4.2</b> Creating a R Markdown file</a></li>
<li class="chapter" data-level="2.4.3" data-path="R2.html"><a href="R2.html#writing-in-r-markdown"><i class="fa fa-check"></i><b>2.4.3</b> Writing in R Markdown</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Scraping</b></span></li>
<li class="chapter" data-level="3" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>3</b> HTML as a cornerstone of the internet</a>
<ul>
<li class="chapter" data-level="3.1" data-path="html.html"><a href="html.html#html-tags"><i class="fa fa-check"></i><b>3.1</b> HTML-Tags</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="html.html"><a href="html.html#hello_world.html"><i class="fa fa-check"></i><b>3.1.1</b> hello_world.html</a></li>
<li class="chapter" data-level="3.1.2" data-path="html.html"><a href="html.html#important-tags"><i class="fa fa-check"></i><b>3.1.2</b> Important tags</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="html.html"><a href="html.html#attribute"><i class="fa fa-check"></i><b>3.2</b> Attributes</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="html.html"><a href="html.html#links"><i class="fa fa-check"></i><b>3.2.1</b> Links</a></li>
<li class="chapter" data-level="3.2.2" data-path="html.html"><a href="html.html#images"><i class="fa fa-check"></i><b>3.2.2</b> Images</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="html.html"><a href="html.html#entities"><i class="fa fa-check"></i><b>3.3</b> Entities</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rvest1.html"><a href="rvest1.html"><i class="fa fa-check"></i><b>4</b> First scraping with rvest</a>
<ul>
<li class="chapter" data-level="4.1" data-path="rvest1.html"><a href="rvest1.html#the-rvest-package"><i class="fa fa-check"></i><b>4.1</b> The rvest package</a></li>
<li class="chapter" data-level="4.2" data-path="rvest1.html"><a href="rvest1.html#hello_world.html-1"><i class="fa fa-check"></i><b>4.2</b> hello_world.html</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="rvest1.html"><a href="rvest1.html#read_html"><i class="fa fa-check"></i><b>4.2.1</b> read_html()</a></li>
<li class="chapter" data-level="4.2.2" data-path="rvest1.html"><a href="rvest1.html#html_elements"><i class="fa fa-check"></i><b>4.2.2</b> html_elements()</a></li>
<li class="chapter" data-level="4.2.3" data-path="rvest1.html"><a href="rvest1.html#html_text"><i class="fa fa-check"></i><b>4.2.3</b> html_text()</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="rvest1.html"><a href="rvest1.html#countries-of-the-world"><i class="fa fa-check"></i><b>4.3</b> Countries of the World</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="rvest1.html"><a href="rvest1.html#country-names"><i class="fa fa-check"></i><b>4.3.1</b> Country names</a></li>
<li class="chapter" data-level="4.3.2" data-path="rvest1.html"><a href="rvest1.html#capitals-population-and-area"><i class="fa fa-check"></i><b>4.3.2</b> Capitals, population and area</a></li>
<li class="chapter" data-level="4.3.3" data-path="rvest1.html"><a href="rvest1.html#merge-into-one-tibble"><i class="fa fa-check"></i><b>4.3.3</b> Merge into one tibble</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="css-selectors-developer-tools.html"><a href="css-selectors-developer-tools.html"><i class="fa fa-check"></i><b>5</b> CSS selectors &amp; Developer Tools</a>
<ul>
<li class="chapter" data-level="5.1" data-path="css-selectors-developer-tools.html"><a href="css-selectors-developer-tools.html#css"><i class="fa fa-check"></i><b>5.1</b> CSS selectors</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="css-selectors-developer-tools.html"><a href="css-selectors-developer-tools.html#classes"><i class="fa fa-check"></i><b>5.1.1</b> Classes</a></li>
<li class="chapter" data-level="5.1.2" data-path="css-selectors-developer-tools.html"><a href="css-selectors-developer-tools.html#ids"><i class="fa fa-check"></i><b>5.1.2</b> IDs</a></li>
<li class="chapter" data-level="5.1.3" data-path="css-selectors-developer-tools.html"><a href="css-selectors-developer-tools.html#attributes"><i class="fa fa-check"></i><b>5.1.3</b> Attributes</a></li>
<li class="chapter" data-level="5.1.4" data-path="css-selectors-developer-tools.html"><a href="css-selectors-developer-tools.html#hierarchy-levels"><i class="fa fa-check"></i><b>5.1.4</b> Hierarchy levels</a></li>
<li class="chapter" data-level="5.1.5" data-path="css-selectors-developer-tools.html"><a href="css-selectors-developer-tools.html#further-selectors"><i class="fa fa-check"></i><b>5.1.5</b> Further selectors</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="css-selectors-developer-tools.html"><a href="css-selectors-developer-tools.html#developer-tools"><i class="fa fa-check"></i><b>5.2</b> Developer Tools</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rvest2.html"><a href="rvest2.html"><i class="fa fa-check"></i><b>6</b> Scraping of tables &amp; dynamic websites</a>
<ul>
<li class="chapter" data-level="6.1" data-path="rvest2.html"><a href="rvest2.html#scraping-of-tables"><i class="fa fa-check"></i><b>6.1</b> Scraping of tables</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="rvest2.html"><a href="rvest2.html#table-with-css-selectors-from-wikipedia"><i class="fa fa-check"></i><b>6.1.1</b> Table with CSS selectors from Wikipedia</a></li>
<li class="chapter" data-level="6.1.2" data-path="rvest2.html"><a href="rvest2.html#scraping-multiple-tables"><i class="fa fa-check"></i><b>6.1.2</b> Scraping multiple tables</a></li>
<li class="chapter" data-level="6.1.3" data-path="rvest2.html"><a href="rvest2.html#tabellen-mit-nas"><i class="fa fa-check"></i><b>6.1.3</b> Tabellen mit NAs</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="rvest2.html"><a href="rvest2.html#dynamic-websites"><i class="fa fa-check"></i><b>6.2</b> Dynamic Websites</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="rvest2.html"><a href="rvest2.html#html-forms-and-html-queries"><i class="fa fa-check"></i><b>6.2.1</b> HTML forms and HTML queries</a></li>
<li class="chapter" data-level="6.2.2" data-path="rvest2.html"><a href="rvest2.html#html-forms"><i class="fa fa-check"></i><b>6.2.2</b> HTML forms</a></li>
<li class="chapter" data-level="6.2.3" data-path="rvest2.html"><a href="rvest2.html#the-query"><i class="fa fa-check"></i><b>6.2.3</b> The query</a></li>
<li class="chapter" data-level="6.2.4" data-path="rvest2.html"><a href="rvest2.html#manipulating-the-query-and-scraping-the-result"><i class="fa fa-check"></i><b>6.2.4</b> Manipulating the query and scraping the result</a></li>
<li class="chapter" data-level="6.2.5" data-path="rvest2.html"><a href="rvest2.html#additional-resources"><i class="fa fa-check"></i><b>6.2.5</b> Additional resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="rvest3.html"><a href="rvest3.html"><i class="fa fa-check"></i><b>7</b> Scraping of multi-page websites</a>
<ul>
<li class="chapter" data-level="7.1" data-path="rvest3.html"><a href="rvest3.html#index-pages"><i class="fa fa-check"></i><b>7.1</b> Index-pages</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="rvest3.html"><a href="rvest3.html#scraping-of-the-index"><i class="fa fa-check"></i><b>7.1.1</b> Scraping of the index</a></li>
<li class="chapter" data-level="7.1.2" data-path="rvest3.html"><a href="rvest3.html#iteration-with-map"><i class="fa fa-check"></i><b>7.1.2</b> Iteration with map()</a></li>
<li class="chapter" data-level="7.1.3" data-path="rvest3.html"><a href="rvest3.html#scraping-the-sub-pages"><i class="fa fa-check"></i><b>7.1.3</b> Scraping the sub-pages</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="rvest3.html"><a href="rvest3.html#pagination"><i class="fa fa-check"></i><b>7.2</b> Pagination</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="rvest3.html"><a href="rvest3.html#the-query-1"><i class="fa fa-check"></i><b>7.2.1</b> The query</a></li>
<li class="chapter" data-level="7.2.2" data-path="rvest3.html"><a href="rvest3.html#sub-pgs"><i class="fa fa-check"></i><b>7.2.2</b> Scraping the sub-pages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="files.html"><a href="files.html"><i class="fa fa-check"></i><b>8</b> Downloading and saving files</a>
<ul>
<li class="chapter" data-level="8.1" data-path="files.html"><a href="files.html#CSV"><i class="fa fa-check"></i><b>8.1</b> CSV files</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="files.html"><a href="files.html#parsing-a-csv-file"><i class="fa fa-check"></i><b>8.1.1</b> Parsing a CSV file</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="files.html"><a href="files.html#downloading-files"><i class="fa fa-check"></i><b>8.2</b> Downloading files</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="files.html"><a href="files.html#parsing-the-csv-files"><i class="fa fa-check"></i><b>8.2.1</b> Parsing the CSV files</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="files.html"><a href="files.html#saving-data-files"><i class="fa fa-check"></i><b>8.3</b> Saving data files</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="goodpractice.html"><a href="goodpractice.html"><i class="fa fa-check"></i><b>9</b> Good practice</a>
<ul>
<li class="chapter" data-level="9.1" data-path="goodpractice.html"><a href="goodpractice.html#we-aint-no-web-crawlers"><i class="fa fa-check"></i><b>9.1</b> We ain’t no web crawlers</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="goodpractice.html"><a href="goodpractice.html#on-robots.txt-files"><i class="fa fa-check"></i><b>9.1.1</b> On robots.txt files</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="goodpractice.html"><a href="goodpractice.html#reduce-traffic"><i class="fa fa-check"></i><b>9.2</b> Reduce traffic</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="goodpractice.html"><a href="goodpractice.html#waiting-times-in-action"><i class="fa fa-check"></i><b>9.2.1</b> Waiting times in action</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="goodpractice.html"><a href="goodpractice.html#citation-and-an-additional-resource"><i class="fa fa-check"></i><b>9.3</b> Citation and an additional resource</a></li>
</ul></li>
<li class="part"><span><b>III Sample project</b></span></li>
<li class="chapter" data-level="10" data-path="scraping.html"><a href="scraping.html"><i class="fa fa-check"></i><b>10</b> Scraping Berlin police reports</a>
<ul>
<li class="chapter" data-level="10.1" data-path="scraping.html"><a href="scraping.html#topic-and-data"><i class="fa fa-check"></i><b>10.1</b> Topic and data</a></li>
<li class="chapter" data-level="10.2" data-path="scraping.html"><a href="scraping.html#scraping-the-data"><i class="fa fa-check"></i><b>10.2</b> Scraping the data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="scraping.html"><a href="scraping.html#gathering-the-links"><i class="fa fa-check"></i><b>10.2.1</b> Gathering the links</a></li>
<li class="chapter" data-level="10.2.2" data-path="scraping.html"><a href="scraping.html#downloading-the-subpages"><i class="fa fa-check"></i><b>10.2.2</b> Downloading the subpages</a></li>
<li class="chapter" data-level="10.2.3" data-path="scraping.html"><a href="scraping.html#extracting-the-data-of-interest"><i class="fa fa-check"></i><b>10.2.3</b> Extracting the data of interest</a></li>
<li class="chapter" data-level="10.2.4" data-path="scraping.html"><a href="scraping.html#saving-the-data"><i class="fa fa-check"></i><b>10.2.4</b> Saving the data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>11</b> Transformation with dplyr</a>
<ul>
<li class="chapter" data-level="11.1" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>11.1</b> <code>mutate()</code></a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="dplyr.html"><a href="dplyr.html#computing-new-variables-from-existing-ones"><i class="fa fa-check"></i><b>11.1.1</b> Computing new variables from existing ones</a></li>
<li class="chapter" data-level="11.1.2" data-path="dplyr.html"><a href="dplyr.html#clean"><i class="fa fa-check"></i><b>11.1.2</b> Cleaning the data on police reports</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>11.2</b> <code>select()</code></a></li>
<li class="chapter" data-level="11.3" data-path="dplyr.html"><a href="dplyr.html#rename"><i class="fa fa-check"></i><b>11.3</b> <code>rename()</code></a></li>
<li class="chapter" data-level="11.4" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>11.4</b> <code>filter()</code></a></li>
<li class="chapter" data-level="11.5" data-path="dplyr.html"><a href="dplyr.html#summarise-group_by"><i class="fa fa-check"></i><b>11.5</b> <code>summarise()</code> &amp; <code>group_by()</code></a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="dplyr.html"><a href="dplyr.html#number-of-reports-by-groups"><i class="fa fa-check"></i><b>11.5.1</b> Number of reports by groups</a></li>
<li class="chapter" data-level="11.5.2" data-path="dplyr.html"><a href="dplyr.html#summary-statistics-on-the-time"><i class="fa fa-check"></i><b>11.5.2</b> Summary statistics on the time</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="dplyr.html"><a href="dplyr.html#exporting-tables"><i class="fa fa-check"></i><b>11.6</b> Exporting tables</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="dplyr.html"><a href="dplyr.html#further-resources"><i class="fa fa-check"></i><b>11.6.1</b> Further resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>12</b> Graphical analysis with ggplot</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ggplot.html"><a href="ggplot.html#ggplot2-syntax"><i class="fa fa-check"></i><b>12.1</b> ggplot2 syntax</a></li>
<li class="chapter" data-level="12.2" data-path="ggplot.html"><a href="ggplot.html#geoms-and-aesthetics"><i class="fa fa-check"></i><b>12.2</b> Geoms and aesthetics</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="ggplot.html"><a href="ggplot.html#continuous-x-continuous-y"><i class="fa fa-check"></i><b>12.2.1</b> Continuous x, continuous y</a></li>
<li class="chapter" data-level="12.2.2" data-path="ggplot.html"><a href="ggplot.html#graphical-analysis-of-berlin-police-reports"><i class="fa fa-check"></i><b>12.2.2</b> Graphical analysis of Berlin police reports</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="ggplot.html"><a href="ggplot.html#exporting-plots"><i class="fa fa-check"></i><b>12.3</b> Exporting plots</a></li>
</ul></li>
<li class="part"><span><b>IV Regular expressions</b></span></li>
<li class="chapter" data-level="13" data-path="regex.html"><a href="regex.html"><i class="fa fa-check"></i><b>13</b> Regular expressions</a>
<ul>
<li class="chapter" data-level="13.1" data-path="regex.html"><a href="regex.html#cleaning-the-district-column"><i class="fa fa-check"></i><b>13.1</b> Cleaning the <code>district</code> column</a></li>
<li class="chapter" data-level="13.2" data-path="regex.html"><a href="regex.html#detecting-robberies-in-police-reports"><i class="fa fa-check"></i><b>13.2</b> Detecting robberies in police reports</a></li>
<li class="chapter" data-level="13.3" data-path="regex.html"><a href="regex.html#extracting-details-from-a-list-of-names"><i class="fa fa-check"></i><b>13.3</b> Extracting details from a list of names</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Web Scraping using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="R2" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> Packages, the tidyverse and R Markdown<a href="R2.html#R2" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="r-packages" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> R packages<a href="R2.html#r-packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The R world is open and collaborative by nature. Besides the packages
that come with your R installation – <em>base R</em> – an ever growing number
of additional packages, written by professionals and users, is available
for download by anyone. Every package is focussed on a specific use case
and brings with it a number of functions that enable R to be used for
tasks that the original software designers did not have in mind or at
the very least provide a smoother user experience in cases where the
original base R solutions are more complicated.</p>
<p>The packages, its documentation and various other related information
are hosted at CRAN – “Comprehensive R Archive Network”– which you
already got to know during the installation of R. If you install a
package directly from RStudio, it uses CRAN to find and download the
package and the associated files.</p>
<div id="installing-and-loading-packages" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Installing and loading packages<a href="R2.html#installing-and-loading-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To install a package we can use the R function <code>install.packages()</code>
where the name of the package to be installed is written enclosed by <code>"</code>
between the parentheses. Normally we do this using the console.
Installing packages from an R script works as well, but as we only need
to perform the installation once, there is no benefit in it. It actually
slows things down if we repeat the installation every time we run a
script. At the same time, if we share our script, it is impolite to
force an (re)installation on somebody else.</p>
<p>For this introduction we will focus on the packages of the <strong>tidyverse</strong>
– more on them below. To install the core <strong>tidyverse</strong> package, you
should type:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="R2.html#cb1-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>R will output a lot of information concerning the installation process,
and close with a satisfying <code>DONE (tidyverse)</code> if everything went
according to plan.</p>
<p>Please note, that R is <em>case sensitive</em>. This means that “Tidyverse” is
not the same as “tidyverse”. To R, these are to different words. When
installing packages, their names have to be written <strong>exactly</strong> as they
are named or R will not find the package. The same principle applies to
object names, strings, functions, arguments and work with R in general.</p>
<p>Now that the installation is complete, we can load the package. This
should normally be done in the first lines of a script. This way all
necessary packages are loaded at the beginning of running a script and
other users that see your code also immediately see which packages are
required. Loading a package is done with <code>library()</code> with the name of
the package in the parentheses, this time without the need for enclosing
it in <code>"</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="R2.html#cb2-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>Loading the <strong>tidyverse</strong> package returns a lot of information to us,
some of which we will look at in more detail during the course of this
chapter. Please note that not all packages are that verbose in their
loading process. Often you will get no output at all which is a good
sign, as this also means that the package loaded correctly. If anything
goes wrong, R will return an error message.</p>
</div>
<div id="namespaces" class="section level3 hasAnchor" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Namespaces<a href="R2.html#namespaces" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Looking at the last lines of the returned message when loading the
tidyverse package, we’re informed that there are two conflicts. These
arise when two or more loaded packages include functions with the same
name. Here we can see that the tidyverse package <strong>dplyr</strong> masks the
functions <code>filter()</code> and <code>lag()</code> from the base R package <strong>stats</strong>. If
we would have used <code>filter()</code> without loading dplyr, the function from
the <strong>stats</strong> package would have been used. After loading it, the
function from <strong>dplyr</strong> masks the function from <strong>stats</strong> and is used
instead.</p>
<p>If we had a case where we want to load <strong>dplyr</strong>, but still use
<code>filter()</code> from <strong>stats</strong>, we can still do this by explicitly declaring
the <em>namespace</em> which we are referring to. The namespace basically is a
reference for R where to look up the function we have called. If we just
write the function’s name, R looks for it in the list of loaded
packages, which would result in applying <code>filter()</code> from <strong>dplyr</strong> here.
But we can tell R to look up the function in another namespace, by using
the notation <code>namespace::function</code>. So to call <code>filter()</code> from <strong>stats</strong>
while the function is masked by the similarly named function from
<strong>dplyr</strong>, we could write <code>stats::filter()</code>. As the function will not
work without further arguments, we can’t try this out directly, but the
same principle applies to loading the help files:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="R2.html#cb3-1" tabindex="-1"></a>?dplyr<span class="sc">::</span><span class="fu">filter</span>()</span>
<span id="cb3-2"><a href="R2.html#cb3-2" tabindex="-1"></a>?stats<span class="sc">::</span><span class="fu">filter</span>()</span></code></pre></div>
</div>
</div>
<div id="tidyverse" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Tidyverse<a href="R2.html#tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While we will use some base R functions throughout this course, our main
focus will lie on the <strong>tidyverse</strong> packages.</p>
<p>The <strong>tidyverse</strong> is a collection of R packages, all following a shared
philosophy concerning the syntax of their functions and the way in which
data is represented. We will see how the philosophy underlying the
tidyverse can lead to more intuitive R code, especially when using the
pipe (<code>%&gt;%</code>), in the next chapter. If you want to learn more about the
concept of <em>tidy data</em>, the structure of data representation underlying
the tidyverse, a read of the chapter on this concept from “R for Data
Science” by Wickham &amp; Grolemund is highly recommended:
<a href="https://r4ds.had.co.nz/tidy-data.html" target="_blank">https://r4ds.had.co.nz/tidy-data.html</a>.</p>
<p>Right now, the <em>core tidyverse</em> consists of eight packages. These are
the packages that are loaded when we type <code>library(tidyverse)</code> and that
are listed in the corresponding output under “Attaching packages”. As
the name suggests, the packages comprise the core functionalities that
define the <strong>tidyverse</strong>. This includes reading, cleaning and
transforming data, handling certain data types, plotting graphs and
more. Over the course of this introduction to web scraping, we will make
use of several of these packages, so in most chapters we will begin our
scripts with loading the <strong>tidyverse</strong> package.</p>
<p>Besides the core tidyverse, a number of additional and more specialised
packages are part of the <strong>tidyverse</strong> and were already installed when
you ran <code>install.packages("tidyverse")</code> above. Among them, the package
<strong>rvest</strong> is of special importance to us, as it will be our main tool
for web scraping throughout the course.</p>
<p>For a full list of <strong>tidyverse</strong> packages and the corresponding
descriptions of their functionality, you can visit:
<a href="https://www.tidyverse.org/packages/" target="_blank">https://www.tidyverse.org/packages/</a></p>
<div id="tibbles" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Tibbles<a href="R2.html#tibbles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>tibble</strong> package is part of the core tidyverse and offers an
alternative to <em>data frames</em> that are used in base R to represent data
in tabular form. The differences between data frames and <em>tibbles</em> are
relatively minor. If you are interested in the details, you can read up
on them in this section from “R for Data Science” and the chapter on
tibbles in general:
<a href="https://r4ds.had.co.nz/tibbles.html#tibbles-vs.-data.frame" target="_blank">https://r4ds.had.co.nz/tibbles.html#tibbles-vs.-data.frame</a>.
For now, it will suffice to know that tibbles are used throughout this
introduction, but that all examples will also work with the classic data
frames.</p>
<p>The syntax to create a tibble is simple. Every column represents a
variable, every row an observation. You should think of the columns as
vectors, where the first position in each vector corresponds to the
first observation (row), the second position in each vector to the
second observation, and so on. In this way, we can create tibbles vector
by vector or variable by variable, using the function <code>tibble()</code>. We
assign a name to the variable followed by <code>=</code> and the data to be
assigned to the variable. The variable-data pairs are separated by <code>,</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="R2.html#cb4-1" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">numbers =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="at">strings =</span> <span class="fu">c</span>(<span class="st">&quot;zero&quot;</span>, <span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>), <span class="at">logicals =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>))</span>
<span id="cb4-2"><a href="R2.html#cb4-2" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb4-3"><a href="R2.html#cb4-3" tabindex="-1"></a><span class="do">##   numbers strings logicals</span></span>
<span id="cb4-4"><a href="R2.html#cb4-4" tabindex="-1"></a><span class="do">##     &lt;dbl&gt; &lt;chr&gt;   &lt;lgl&gt;   </span></span>
<span id="cb4-5"><a href="R2.html#cb4-5" tabindex="-1"></a><span class="do">## 1       0 zero    FALSE   </span></span>
<span id="cb4-6"><a href="R2.html#cb4-6" tabindex="-1"></a><span class="do">## 2       1 one     TRUE    </span></span>
<span id="cb4-7"><a href="R2.html#cb4-7" tabindex="-1"></a><span class="do">## 3       2 two     TRUE</span></span></code></pre></div>
<p>For longer code like this, it is advisable to use multiple lines and a
more clear formatting to create code that is readable and intuitive:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="R2.html#cb5-1" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb5-2"><a href="R2.html#cb5-2" tabindex="-1"></a>  <span class="at">numbers =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb5-3"><a href="R2.html#cb5-3" tabindex="-1"></a>  <span class="at">strings =</span> <span class="fu">c</span>(<span class="st">&quot;zero&quot;</span>, <span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>),</span>
<span id="cb5-4"><a href="R2.html#cb5-4" tabindex="-1"></a>  <span class="at">logicals =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb5-5"><a href="R2.html#cb5-5" tabindex="-1"></a>)</span>
<span id="cb5-6"><a href="R2.html#cb5-6" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb5-7"><a href="R2.html#cb5-7" tabindex="-1"></a><span class="do">##   numbers strings logicals</span></span>
<span id="cb5-8"><a href="R2.html#cb5-8" tabindex="-1"></a><span class="do">##     &lt;dbl&gt; &lt;chr&gt;   &lt;lgl&gt;   </span></span>
<span id="cb5-9"><a href="R2.html#cb5-9" tabindex="-1"></a><span class="do">## 1       0 zero    FALSE   </span></span>
<span id="cb5-10"><a href="R2.html#cb5-10" tabindex="-1"></a><span class="do">## 2       1 one     TRUE    </span></span>
<span id="cb5-11"><a href="R2.html#cb5-11" tabindex="-1"></a><span class="do">## 3       2 two     TRUE</span></span></code></pre></div>
<p>R understands that all five lines are part of one command as it
evaluates everything between the opening and closing bracket of the
<code>tibbles()</code> function together. We just have to make sure, that we don’t
miss the closing bracket or a <code>,</code> that separates the variable-data
pairs. This actually is a main source of errors and will be high on your
list of things to check if something does not work as planned.</p>
<p>We can also use calculations and functions directly in tibble creation,
circumventing the need to assign the results to an object first:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="R2.html#cb6-1" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb6-2"><a href="R2.html#cb6-2" tabindex="-1"></a>  <span class="at">numbers =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb6-3"><a href="R2.html#cb6-3" tabindex="-1"></a>  <span class="at">roots =</span> <span class="fu">sqrt</span>(numbers),</span>
<span id="cb6-4"><a href="R2.html#cb6-4" tabindex="-1"></a>  <span class="at">rounded =</span> <span class="fu">round</span>(roots)</span>
<span id="cb6-5"><a href="R2.html#cb6-5" tabindex="-1"></a>)</span>
<span id="cb6-6"><a href="R2.html#cb6-6" tabindex="-1"></a><span class="do">## # A tibble: 3 × 3</span></span>
<span id="cb6-7"><a href="R2.html#cb6-7" tabindex="-1"></a><span class="do">##   numbers roots rounded</span></span>
<span id="cb6-8"><a href="R2.html#cb6-8" tabindex="-1"></a><span class="do">##     &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb6-9"><a href="R2.html#cb6-9" tabindex="-1"></a><span class="do">## 1       1  1          1</span></span>
<span id="cb6-10"><a href="R2.html#cb6-10" tabindex="-1"></a><span class="do">## 2       2  1.41       1</span></span>
<span id="cb6-11"><a href="R2.html#cb6-11" tabindex="-1"></a><span class="do">## 3       3  1.73       2</span></span></code></pre></div>
<div id="subsetting-tibbles" class="section level4 hasAnchor" number="2.2.1.1">
<h4><span class="header-section-number">2.2.1.1</span> Subsetting tibbles<a href="R2.html#subsetting-tibbles" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When subsetting two dimensional objects like data frames and tibbles, we
have to supply an index for the row(s) as well as for the column(s) we
want to subset. Those are written in the form
<code>object[row_index, column_index]</code> Let us first assign a sample tibble to
an object.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="R2.html#cb7-1" tabindex="-1"></a>exmpl_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb7-2"><a href="R2.html#cb7-2" tabindex="-1"></a>  <span class="at">numbers =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb7-3"><a href="R2.html#cb7-3" tabindex="-1"></a>  <span class="at">strings =</span> <span class="fu">c</span>(<span class="st">&quot;zero&quot;</span>, <span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>),</span>
<span id="cb7-4"><a href="R2.html#cb7-4" tabindex="-1"></a>  <span class="at">logicals =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb7-5"><a href="R2.html#cb7-5" tabindex="-1"></a>)</span></code></pre></div>
<p>We can now subset this tibble. Note that if we want to subset a complete
row or column, we can leave the place before or after the <code>,</code> empty to
indicate that we want to see all rows or columns.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="R2.html#cb8-1" tabindex="-1"></a>exmpl_tbl[<span class="dv">1</span>, <span class="dv">2</span>]   <span class="co"># first row, second column</span></span>
<span id="cb8-2"><a href="R2.html#cb8-2" tabindex="-1"></a><span class="do">## # A tibble: 1 × 1</span></span>
<span id="cb8-3"><a href="R2.html#cb8-3" tabindex="-1"></a><span class="do">##   strings</span></span>
<span id="cb8-4"><a href="R2.html#cb8-4" tabindex="-1"></a><span class="do">##   &lt;chr&gt;  </span></span>
<span id="cb8-5"><a href="R2.html#cb8-5" tabindex="-1"></a><span class="do">## 1 zero</span></span>
<span id="cb8-6"><a href="R2.html#cb8-6" tabindex="-1"></a>exmpl_tbl[<span class="dv">1</span>, ]    <span class="co"># first row, all columns</span></span>
<span id="cb8-7"><a href="R2.html#cb8-7" tabindex="-1"></a><span class="do">## # A tibble: 1 × 3</span></span>
<span id="cb8-8"><a href="R2.html#cb8-8" tabindex="-1"></a><span class="do">##   numbers strings logicals</span></span>
<span id="cb8-9"><a href="R2.html#cb8-9" tabindex="-1"></a><span class="do">##     &lt;dbl&gt; &lt;chr&gt;   &lt;lgl&gt;   </span></span>
<span id="cb8-10"><a href="R2.html#cb8-10" tabindex="-1"></a><span class="do">## 1       0 zero    FALSE</span></span>
<span id="cb8-11"><a href="R2.html#cb8-11" tabindex="-1"></a>exmpl_tbl[, <span class="dv">2</span>]   <span class="co"># all rows, second column</span></span>
<span id="cb8-12"><a href="R2.html#cb8-12" tabindex="-1"></a><span class="do">## # A tibble: 3 × 1</span></span>
<span id="cb8-13"><a href="R2.html#cb8-13" tabindex="-1"></a><span class="do">##   strings</span></span>
<span id="cb8-14"><a href="R2.html#cb8-14" tabindex="-1"></a><span class="do">##   &lt;chr&gt;  </span></span>
<span id="cb8-15"><a href="R2.html#cb8-15" tabindex="-1"></a><span class="do">## 1 zero   </span></span>
<span id="cb8-16"><a href="R2.html#cb8-16" tabindex="-1"></a><span class="do">## 2 one    </span></span>
<span id="cb8-17"><a href="R2.html#cb8-17" tabindex="-1"></a><span class="do">## 3 two</span></span></code></pre></div>
<p>You may note that in each of those cases, R returns a tibble to us. Even
when there is only one value, as in the first example, we get a 1x1
tibble. This is because subsetting tibbles with <code>[]</code> always returns a
tibble. If we are interested in extracting an actual value from a cell
in a tibble, we have to use <code>[[]]</code> subsetting instead.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="R2.html#cb9-1" tabindex="-1"></a>exmpl_tbl[[<span class="dv">1</span>, <span class="dv">2</span>]]   <span class="co"># first row, second column</span></span>
<span id="cb9-2"><a href="R2.html#cb9-2" tabindex="-1"></a><span class="do">## [1] &quot;zero&quot;</span></span>
<span id="cb9-3"><a href="R2.html#cb9-3" tabindex="-1"></a>exmpl_tbl[[<span class="dv">3</span>, <span class="dv">1</span>]]   <span class="co"># third row, first column</span></span>
<span id="cb9-4"><a href="R2.html#cb9-4" tabindex="-1"></a><span class="do">## [1] 2</span></span></code></pre></div>
<p>If our goal is to extract a column as a vector, we have several options.
We can write <code>object[[column_index]]</code>. In this case, R knows that we are
only interested in columns as we have only provided one index to a two
dimensional object. We couls also use the column’s name instead of the
index, enclosed in <code>""</code>. Another popular option is to use the
$-notation. Here we also use the column’s name but write it like this:
<code>object$column_name</code>. Which option to use is up to taste, as the results
are identical:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="R2.html#cb10-1" tabindex="-1"></a>exmpl_tbl[[<span class="dv">2</span>]]</span>
<span id="cb10-2"><a href="R2.html#cb10-2" tabindex="-1"></a><span class="do">## [1] &quot;zero&quot; &quot;one&quot;  &quot;two&quot;</span></span>
<span id="cb10-3"><a href="R2.html#cb10-3" tabindex="-1"></a>exmpl_tbl[[<span class="st">&quot;strings&quot;</span>]]</span>
<span id="cb10-4"><a href="R2.html#cb10-4" tabindex="-1"></a><span class="do">## [1] &quot;zero&quot; &quot;one&quot;  &quot;two&quot;</span></span>
<span id="cb10-5"><a href="R2.html#cb10-5" tabindex="-1"></a>exmpl_tbl<span class="sc">$</span>strings</span>
<span id="cb10-6"><a href="R2.html#cb10-6" tabindex="-1"></a><span class="do">## [1] &quot;zero&quot; &quot;one&quot;  &quot;two&quot;</span></span></code></pre></div>
</div>
</div>
</div>
<div id="additional-r-resources" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Additional R resources<a href="R2.html#additional-r-resources" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When learning R and when using functions and packages that are new to
you, you will regularly run into situations where you need help in
understanding what is happening and what you can do. Luckily, there a
lot of resources that will help you on your R journey.</p>
<p>You have already learned about the built-in help functionalities of R.
Many packages also come with so called <em>vignettes</em> which offer more
in-depth introductions to the packages. Let’s see if the tibble package
comes with vignettes. To do this we can write:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="R2.html#cb11-1" tabindex="-1"></a><span class="fu">vignette</span>(<span class="at">package =</span> <span class="st">&quot;tibble&quot;</span>)</span></code></pre></div>
<p>We get a list of all vignettes available for the specific package. To
access a specific vignette, we also use the <code>vignette()</code> function, this
time with the specific name of the vignette as the function’s argument:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="R2.html#cb12-1" tabindex="-1"></a><span class="fu">vignette</span>(<span class="st">&quot;types&quot;</span>)</span></code></pre></div>
<p>You can also always check the CRAN page for the package in question.
Here you can access the documentation as well as available vignettes,
e.g.:
<a href="https://cran.r-project.org/web/packages/tibble/index.html" target="_blank">https://cran.r-project.org/web/packages/tibble/index.html</a>.</p>
<p>Another highly recommended resource are the RStudio <em>cheatsheets</em> found
at:
<a href="https://www.rstudio.com/resources/cheatsheets/" target="_blank">https://www.rstudio.com/resources/cheatsheets/</a>.
These are available for many popular packages and present a
comprehensive list of the functions offered by the packages.</p>
<p>The RStudio homepage also offers many more resources for learning R and
specific packages, including a number of webinars and tutorial videos
available under the menu “Resources”:
<a href="https://www.rstudio.com/" target="_blank">https://www.rstudio.com/</a></p>
<p>In general, the internet offers a lot of resources that you can access.
One of the most important skills you have to develop as an aspiring R
user is to understand the problem you are facing to the best of your
abilities and formulate a short but precise google search. In most cases
you can assume, that you are not the first or last person to have a
specific problem. Someone will have written a blogpost, asked a question
on
<a href="https://stackoverflow.com/" target="_blank">https://stackoverflow.com/</a>,
made a video tutorial, and so on. If you can find these resources, you
are already halfway there.</p>
<p>There are also a lot of books available on R and RStudio in general, as
well as on more specific applications in R. I want to recommend three of
them in particular, both available as paperback or online:</p>
<ul>
<li><p><em>Intro to R for Social Scientists</em> by Jasper Tjaden. An accessible
introduction to R that expands on the concepts only touched here.
Written for a seminar at the University of Potsdam in summer 2021.
Available under:
<a href="https://jaspertjaden.github.io/course-intro2r/" target="_blank">https://jaspertjaden.github.io/course-intro2r/</a></p></li>
<li><p><em>R Cookbook, 2nd Edition</em> by J.D. Long &amp; Paul Teetor. The book is
comprised of recipes for specific tasks you might want to perform.
It is not designed as a course but rather as reference for concrete
questions. Available under:
<a href="https://rc2e.com/" target="_blank">https://rc2e.com/</a></p></li>
<li><p><em>R for Data Science</em> by Hadley Wickham and Garrett Grolemund. An
introduction to data science using (almost) exclusively the
tidyverse packages. Available under:
<a href="https://r4ds.had.co.nz/" target="_blank">https://r4ds.had.co.nz/</a></p></li>
</ul>
</div>
<div id="intro-to-r-markdown" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Intro to R Markdown<a href="R2.html#intro-to-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The following is an excerpt from another seminar that I have written
with Prof. Jasper Tjaden and Niaz Morshed, <strong>Data Analysis with R for
Social Scientists</strong>, available under:
<a href="https://jaspertjaden.github.io/DataAnalysisR/" target="_blank">https://jaspertjaden.github.io/DataAnalysisR/</a></p>
<p>It is a short introduction to using R Markdown for documenting your work
and writing reports and papers with it.</p>
<div id="what-is-r-markdown" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> What is R Markdown?<a href="R2.html#what-is-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R Markdown allows you to combine written text that is easy to format
with R Code that is executed when <em>knitting</em> or <em>compiling</em> the document
into the chosen output format. This allows us to describe our research,
analyse our data, display results as tables or plots and interpret
these, all in one file. In this way we can not only create reports on
seminar exercises but also write websites - like the one your are
looking at in this very moment -, seminar papers, articles or create
presentations.</p>
<p>It is also a great notebook for projects you are working on. More often
than not, our work on a specific analysis will span multiple days, weeks
or even months and it is often hard to remember what we were thinking
the last time we worked on our code.</p>
<blockquote>
<p>“I am sure I had my reasons for writing this piece of code, but I can
not for the life of me remember any of them…”</p>
<p>— Anonymous Coder 2023</p>
</blockquote>
<p>If we use R Markdown to document our work we can add text that explains
our reasons, thoughts, ideas and plans at that very moment and pick up
our work from there the next time we open the file.</p>
<p>R Markdown allows output to different file formats, including <code>html</code>,
<code>docx</code>, <code>pptx</code> and <code>pdf</code>. Note that you need a LaTeX installation to
knit to <code>pdf</code>. LaTeX is a typesetting language and used for producing
high quality <code>pdf</code> documents. For simple <code>pdf</code> reports or
presentations - sidenote: if you bring a <code>pptx</code> to a talk something will
most probably go wrong or stop working… - you do not really need to
know how LaTeX works, you just need an installed distribution. For these
purposes the package <code>tinytex</code> gives you all you need and is easy to
install from within R. <a href="https://bookdown.org/yihui/rmarkdown/installation.html#installation">This
site</a>
explains how to install it. You can also get an overview of all possible
output formats <a href="https://rmarkdown.rstudio.com/lesson-9.html">here</a>.</p>
</div>
<div id="creating-a-r-markdown-file" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Creating a R Markdown file<a href="R2.html#creating-a-r-markdown-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before you can create and compile R Markdown documents, you first have
to install the package by writing <code>install.packages("rmarkdown")</code> in
your console.</p>
<p>Creating a new R Markdown file is as straightforward as it can be. In
RStudio you can click of <code>File &gt; New File &gt; R Markdown...</code>. In the new
window you can set up some basic information on the document - which
will be displayed in the output - and chose your desired format. You can
basically write R Markdown files in any text editor, just make sure that
the file extension is saved as <code>.Rmd</code>. We still recommend using RStudio
because it gives you some convenient options that a text editor will
not, e.g. displaying a preview of your document and easy knitting of the
final file.</p>
</div>
<div id="writing-in-r-markdown" class="section level3 hasAnchor" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> Writing in R Markdown<a href="R2.html#writing-in-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="document-components" class="section level4 hasAnchor" number="2.4.3.1">
<h4><span class="header-section-number">2.4.3.1</span> Document components<a href="R2.html#document-components" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When you followed the steps above, a new R Markdown file will have been
created. It basically consists of two main parts:</p>
<ul>
<li><p>A <code>YAML</code> header - surrounded by three dashes <code>---</code> - where options
for the document can be set. The good news is that you do not have
to do anything here until you get more profound with using R
Markdown. For now it is enough that all the options you set when
creating the new file - the title, author, date and format of the
output - are present and will be included in your output file.</p></li>
<li><p>A body that contains the actual content of your document. Text is
directly written in the body at the location where it is to be
displayed in the output. We can use the simple Markdown syntax for
formatting using a set of symbols, some of which we will explain
below. We can also include R code in so called <code>chunks</code>, specifying
if we also want it and/or the results to be displayed or “just” to
be executed in the background. The code chunks will be executed when
we compile the final document and everything that we want to include
in the output - e.g. tables, plots or code examples - will be
displayed where it occurs.</p></li>
</ul>
</div>
<div id="formatting" class="section level4 hasAnchor" number="2.4.3.2">
<h4><span class="header-section-number">2.4.3.2</span> Formatting<a href="R2.html#formatting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Here are some of the more common formatting elements you will need when
starting out using R Markdown:</p>
<div id="headers" class="section level5 hasAnchor" number="2.4.3.2.1">
<h5><span class="header-section-number">2.4.3.2.1</span> Headers<a href="R2.html#headers" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>To include sections in a document we use <code>#</code> followed by the header we
want to be displayed. We can define levels for sections by using
multiple <code>#</code> in this way:</p>
<pre><code># Section 1
## Section 1.1
## Section 1.2
### Section 1.2.1
### Section 1.2.2
## Section 1.3
# Section 2</code></pre>
</div>
<div id="text" class="section level5 hasAnchor" number="2.4.3.2.2">
<h5><span class="header-section-number">2.4.3.2.2</span> Text<a href="R2.html#text" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We write the text between the section headers at the place where it
should be displayed in the final document. We can insert line breaks at
any point but these will not be rendered in the output. To include an
actual paragraph we will have to include a blank line between between
two blocks of text. Two emphasize certain words or phrases, we can wrap
them in <code>*</code> for italics or <code>**</code> for bold face.</p>
<p>Consider this Markdown code:</p>
<pre><code>This is the first paragraph.
This still is the first paragraph.

Here begins the second paragraph.
It includes emphasis, by using *italics* and also **bold face** words.</code></pre>
<p>It is rendered as:</p>
<p>This is the first paragraph. This still is the first paragraph.</p>
<p>Here begins the second paragraph. It includes emphasis, by using
<em>italics</em> and also <strong>bold face</strong> words.</p>
</div>
<div id="lists" class="section level5 hasAnchor" number="2.4.3.2.3">
<h5><span class="header-section-number">2.4.3.2.3</span> Lists<a href="R2.html#lists" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Unordered lists or bullet points can be inserted by adding a <code>-</code>, <code>*</code> or
<code>+</code> at the beginning of a line. To create levels, we have to indent
lines using tab stops.</p>
<pre><code>* Level 1
* Level 1
  * Level 2
    * Level 3
  * Level 2
    * Level 3
* Level 1</code></pre>
<p>The above will be rendered as:</p>
<ul>
<li>Level 1</li>
<li>Level 1
<ul>
<li>Level 2
<ul>
<li>Level 3</li>
</ul></li>
<li>Level 2
<ul>
<li>Level 3</li>
</ul></li>
</ul></li>
<li>Level 1</li>
</ul>
<p>We can also create ordered lists by using numbers followed by a <code>.</code>
instead of the <code>*</code> etc.</p>
<pre><code>1.  Bulletpoint 1
2.  Bulletpoint 2
3.  Bulletpoint 3</code></pre>
<ol style="list-style-type: decimal">
<li>Bulletpoint 1</li>
<li>Bulletpoint 2</li>
<li>Bulletpoint 3</li>
</ol>
</div>
<div id="hyperlinks" class="section level5 hasAnchor" number="2.4.3.2.4">
<h5><span class="header-section-number">2.4.3.2.4</span> Hyperlinks<a href="R2.html#hyperlinks" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Hyperlinks can be included as <code>&lt;url&gt;</code> or <code>[text](url)</code>.</p>
<pre><code>To include a plain url we can use &lt;https://jaspertjaden.github.io/DataAnalysisR/&gt;.
We can also [link](https://jaspertjaden.github.io/DataAnalysisR/) in this way.</code></pre>
<p>To include a plain url we can use
<a href="https://jaspertjaden.github.io/DataAnalysisR/" class="uri">https://jaspertjaden.github.io/DataAnalysisR/</a>. We can also
<a href="https://jaspertjaden.github.io/DataAnalysisR/">link</a> in this way.</p>
</div>
</div>
<div id="code-chunks" class="section level4 hasAnchor" number="2.4.3.3">
<h4><span class="header-section-number">2.4.3.3</span> Code chunks<a href="R2.html#code-chunks" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Codechunks have to be started and ended with three backticks
<code>```</code>. After the first set of backticks we also have to include
<code>{r}</code> to let Markdown know that we want to run the code as R code. The
code that is written after this and up to the second set of backticks
will be executed when knitting the file.</p>
<p>You can see some examples of this in the newly created R Markdown file
if you followed the steps above.</p>
<p>We can also always run the code in a chunk before knitting by clicking
on the green arrow in the upper right corner of the chunk. We can also
execute individual lines of code by placing our keyboard cursor in the
line and pressing <code>Shift + Enter</code>.</p>
<div id="chunk-options" class="section level5 hasAnchor" number="2.4.3.3.1">
<h5><span class="header-section-number">2.4.3.3.1</span> Chunk options<a href="R2.html#chunk-options" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>We can change the way code chunks are handled when knitting by adding
one or multiple chunk options between the curly brackets like this:
<code>{r option=value}</code>. If we want to use multiple options they have to be
written like this: <code>{r option1=value1, option2=value2}</code>.</p>
<p>There are many options available but most are not needed when starting
out. The ones that may be of interest to you are:</p>
<ul>
<li><code>{r echo=FALSE}</code>: This prevents the code to be displayed in the
output while the results will be included. This is useful if you
want to show the results of a computation or a plot but do not want
the document to be cluttered with the underlying code.</li>
<li><code>{r include=FALSE}</code>: This prevents the code as well as the output
from being displayed. The code is still run in the background.</li>
<li><code>{r eval=FALSE}</code>: This prevents the code from being run but displays
it. This can be useful if you want to show code examples for
illustrative purposes.</li>
</ul>

</div>
</div>
</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="R1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="html.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/webscraping-tures/webscraping-tures.github.io/02-R2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
